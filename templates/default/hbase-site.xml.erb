<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<!-- HBase hbase-site config generated by Chef -->

<configuration>
    <property >
        <name>hbase.cluster.distributed</name>
        <value><%= !node.recipe?('pio::aio') %></value>
    </property>

    <property>
        <name>hbase.tmp.dir</name>
        <value><%= @datadir %>/tmp</value>
    </property>

    <property>
        <name>hbase.rootdir</name>
        <value>hdfs://<%= node['pio']['conf']['namenode_host'] %>:<%= node['pio']['conf']['namenode_port'] %>/hbase</value>
    </property>

<% unless node.recipe?('pio::aio') -%>
    <property>
        <name>hbase.zookeeper.property.clientPort</name>
        <value><%= node['pio']['conf']['zookeeper_port'] %></value>
    </property>

    <property>
        <name>hbase.zookeeper.quorum</name>
        <value><%= Array(node['pio']['conf']['zookeeper_hosts']).join(',') %></value>
    </property>
<% end -%>

    <!-- Hortonworks best practices -->
    <property>
        <name>hbase.rpc.timeout</name>
        <value>300000</value>
    </property>

    <property>
        <name>hbase.client.scanner.timeout.period</name>
        <value>300000</value>
    </property>

    <property>
        <name>zookeeper.session.timeout</name>
        <value>300000</value>
    </property>
</configuration>
